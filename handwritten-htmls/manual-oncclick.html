<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Add Sibling Above Button</title>
</head>
<body>

<template id="defrel">
    <div class="defrel">
        <input>
        
        <div>
        <button onClick="addSibling(event.target, 'fresh-variable')">+</button>
        </div>
        
        <div>
            <button onClick="addSibling(event.target, 'conde'">+conde</button>
            <button onClick="addSibling(event.target, 'relate'">+relate</button>
        </div>
    </div>
</template>

<template id="fresh">
    <div class="fresh">
        <button onClick="replace(event.target.parentNode, 'base')">Base</button>
        <button onClick="replace(event.target.parentNode, 'recur')">Recur</button>
    </div>
</template>

<template id="base">
    <div class="base">
        <input>
        <button onClick="replace(event.target.parentNode, 'fresh')">x</button>
    </div>
</template>

<template id="recur">
    <div class="recur">
        <div class="fresh">
            <button onClick="replace(event.target.parentNode, 'base')">Base</button>
            <button onClick="replace(event.target.parentNode, 'recur')">Recur</button>
        </div>

        <div class="fresh">
            <button onClick="replace(event.target.parentNode, 'base')">Base</button>
            <button onClick="replace(event.target.parentNode, 'recur')">Recur</button>
        </div>

        <button onClick="replace(event.target.parentNode, 'fresh')">x</button>    
    </div>
</template>

<div class="fresh">
    <button onClick="replace(event.target.parentNode, 'base')">Base</button>
    <button onClick="replace(event.target.parentNode, 'recur')">Recur</button>
</div>

<script>
    function replace(node, id) {
        node.parentNode.replaceChild(
            document.getElementById(id)
                .content
                .cloneNode(true),
            node
        );
    }

    function deleteParent(node) {
        node.parentNode.parentNode.removeChild(node.parentNode);
    }

  function addSibling() {
    // Create a new sibling element
    var newElement = document.createElement('div');
    newElement.textContent = 'New Sibling Element';

    // Get a reference to the container div
    var container = document.querySelector('.container');

    // Insert the new sibling element above the button
    container.insertBefore(newElement, container.firstChild);
  }
</script>

</body>
</html>
